{"version":3,"sources":["contexts/AppContext.js","Header.js","Footer.js","History.js","Sorters.js","Filters.js","Product.js","Products.js","Pagination.js","ProductsDisplay.js","App.js","index.js"],"names":["AppContext","React","createContext","AppProvider","children","useState","productsResponse","setProductsResponse","userResponse","setUserResponse","isLoading","setIsLoading","isUserUpdated","setIsUserUpdated","sortBy","setSortBy","priceFilter","setPriceFilter","categoryFilter","setCategoryFilter","categoryList","setCategoryList","Provider","value","Header","props","useContext","name","points","addPoints","desiredAmount","require","request","method","url","headers","body","error","response","console","log","statusCode","JSON","stringify","className","to","type","id","data-toggle","aria-haspopup","aria-expanded","aria-labelledby","onClick","Footer","History","history","redeemHistory","historyConditional","Boolean","length","err","scope","map","each","i","productId","createDate","Sorters","role","aria-label","Filters","onChange","e","target","Product","category","imgURL","cost","userPoints","attemptToBuy","x","src","alt","data-target","tabIndex","aria-hidden","data-dismiss","Products","pageNumber","sortedProducts","filter","product","sort","a","b","slice","img","_id","Pagination","ProductsDisplay","App","useEffect","fetch","Headers","ContentType","Accept","Authorization","then","res","json","catch","categories","forEach","element","includes","push","exact","path","render","match","params","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.682615bc.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\n\r\nexport const AppContext = React.createContext();\r\n\r\nexport default function AppProvider({ children }) {\r\n  const [productsResponse, setProductsResponse] = useState([]);\r\n  const [userResponse, setUserResponse] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isUserUpdated, setIsUserUpdated] = useState(false);\r\n  const [sortBy, setSortBy] = useState(0);\r\n  const [priceFilter, setPriceFilter] = useState('0');\r\n  const [categoryFilter, setCategoryFilter] = useState('0');\r\n  const [categoryList, setCategoryList] = useState([]);\r\n\r\n\r\n  return (\r\n    <AppContext.Provider value={{ productsResponse, setProductsResponse, userResponse, setUserResponse, isLoading, setIsLoading, isUserUpdated, setIsUserUpdated, sortBy, setSortBy, priceFilter, setPriceFilter, categoryFilter, setCategoryFilter, categoryList, setCategoryList}}>\r\n      {children}\r\n    </AppContext.Provider>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { AppContext } from \"./contexts/AppContext\";\r\n\r\nfunction Header(props) {\r\n  const {userResponse, setIsUserUpdated} = React.useContext(AppContext);\r\n  const name = userResponse.name;\r\n  const points = userResponse.points;\r\n  \r\n  const addPoints =  (desiredAmount) => {\r\n\r\n    var request = require('request');\r\n    request({\r\n      method: 'POST',\r\n      url: 'https://coding-challenge-api.aerolab.co/user/points',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Accept': 'application/json',\r\n        'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1Zjk1ZDVjYjUyNDk2NzAwMTlhMTBlYjEiLCJpYXQiOjE2MDM2NTUxMTV9.W32_e_L9EGOptAWQ7VCA_PFIz4-z7D52nNipYXQ3-rI'\r\n      },\r\n      body: `{\"amount\": ${desiredAmount}}`\r\n    }, function (error, response, body) {\r\n      console.log('Status:', response.statusCode);\r\n      console.log('Headers:', JSON.stringify(response.headers));\r\n      console.log('Response:', body);\r\n    });\r\n    setIsUserUpdated(false);\r\n  }\r\n\r\n  return (\r\n    <header>\r\n        <div className=\"navbar navbar-light bg-light box-shadow\">\r\n            <div className=\"container d-flex justify-content-between\">\r\n              <Link to=\"/\">\r\n                  <i className=\"fas fa-shopping-cart\"></i>\r\n              </Link>\r\n              <div className=\"dropdown d-flex\">\r\n                \r\n                <h3 className=\"nav-item my-auto user-info\">{name} <i className=\"fas fa-coins\"></i> {points} </h3>\r\n                \r\n                  <button className=\"btn btn-secondary plus-btn\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                    <i className=\"fas fa-plus-circle\"></i>\r\n                  </button>\r\n                  <Link to=\"/history\">\r\n                    <button className=\"btn btn-secondary\"><i className=\"fas fa-clipboard\"></i></button>\r\n                  </Link>\r\n                  <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n                    <button className=\"dropdown-item\" onClick={() => addPoints(1000)}>Add <i className=\"fas fa-coins\"></i> 1000 points</button>\r\n                    <button className=\"dropdown-item\" onClick={() => addPoints(5000)}>Add <i className=\"fas fa-coins\"></i> 5000 points</button>\r\n                    <button className=\"dropdown-item\" onClick={() => addPoints(7500)}>Add <i className=\"fas fa-coins\"></i> 7500 points</button>\r\n                  </div>\r\n              </div>\r\n            </div>\r\n        </div>\r\n    </header>\r\n  );\r\n}\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nfunction Footer(props) {\r\n\r\n  return (\r\n    <footer className=\"navbar navbar-light bg-light box-shadow justify-content-center\">\r\n    Jorge Anaya 2020\r\n    </footer>\r\n  );\r\n}\r\nexport default Footer;","import React from \"react\";\r\nimport { AppContext } from \"./contexts/AppContext\";\r\n\r\nfunction History(props) {\r\n    const {userResponse } =  React.useContext(AppContext);\r\n    const history = userResponse.redeemHistory;\r\n    var historyConditional = false;\r\n    try {\r\n    historyConditional = Boolean(history.length >= 1)\r\n    }\r\n    catch(err){\r\n        historyConditional = false;\r\n    }\r\n    \r\n  return (\r\n    <div className=\"container\">\r\n        {historyConditional ?\r\n                <table className=\"table\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th scope=\"col\">#</th>\r\n                            <th scope=\"col\">ProductId</th>\r\n                            <th scope=\"col\">Date</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    {history.map((each, i) => {\r\n                        return (\r\n                                <tr key={i}>\r\n                                    <th scope=\"row\">{i+1}</th>\r\n                                    <td>{each.productId}</td>\r\n                                    <td>{each.createDate}</td>\r\n                                </tr>\r\n                                )\r\n                    })}\r\n                    </tbody>\r\n                </table>\r\n        \r\n            : <h1>No hay compras en el historial</h1> }\r\n        </div>\r\n  )\r\n}\r\nexport default History;\r\n","import React from \"react\";\r\nimport { AppContext } from \"./contexts/AppContext\";\r\n\r\nfunction Sorters(props) {\r\n    const {sortBy, setSortBy } =  React.useContext(AppContext);\r\n  return (\r\n    <div className=\"container filter\">\r\n        <div className=\"btn-toolbar justify-content-center\" role=\"toolbar\" aria-label=\"Toolbar with button groups\">\r\n            <p className=\"text-secondary my-auto p-custom\">Sort by: </p>\r\n            <div className=\"btn-group mr-2\" role=\"group\" aria-label=\"First group\">\r\n                <button onClick={() => setSortBy(0)} type=\"button\"  className={sortBy===0 ? \"btn btn-primary\" : \"btn btn-secondary\"}>Most Recent</button>\r\n            </div>\r\n            <div className=\"btn-group mr-2\" role=\"group\" aria-label=\"Second group\">\r\n                <button onClick={() => setSortBy(1)} type=\"button\" className={sortBy===1 ? \"btn btn-primary\" : \"btn btn-secondary\"}>Lowest Price</button>\r\n            </div>\r\n            <div className=\"btn-group\" role=\"group\" aria-label=\"Third group\">\r\n                <button onClick={() => setSortBy(2)} type=\"button\" className={sortBy===2 ? \"btn btn-primary\" : \"btn btn-secondary\"}>Highest Price</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Sorters;\r\n","import React from \"react\";\r\nimport { AppContext } from \"./contexts/AppContext\";\r\n\r\nfunction Filters(props) {\r\n    const {setPriceFilter, setCategoryFilter, categoryList} =  React.useContext(AppContext);\r\n\r\n    const handleChangePrice = (e) => {\r\n        setPriceFilter(e.target.value);\r\n        }\r\n    const handleChangeCategory = (e) => {\r\n        setCategoryFilter(e.target.value);\r\n        }\r\n\r\n  return (\r\n    <div className=\"container filter\">\r\n        <div className=\"btn-toolbar justify-content-center\" role=\"toolbar\" aria-label=\"Toolbar with button groups\">\r\n            <p className=\"text-primary my-auto p-custom filterp\">Filter by Price: </p>\r\n            <select onChange={handleChangePrice} className=\"browser-default\" name=\"price\">\r\n                <option value=\"0\">All prices</option>\r\n                <option value=\"1\">Prices from 0 to 150</option>\r\n                <option value=\"2\">Prices from 151 to 230</option>\r\n                <option value=\"3\">Prices from 230 to 600</option>\r\n                <option value=\"4\">Prices higher than 600</option>\r\n            </select>\r\n            <p className=\"text-primary my-auto p-custom filterp\">Filter by Category: </p>\r\n            <select onChange={handleChangeCategory} className=\"browser-default\" name=\"category\">\r\n                <option value=\"0\">All categories</option>\r\n                {categoryList.map((each, i) =>\r\n                <option key={i} value={i+1}>{each}</option>\r\n                )}\r\n            </select>\r\n\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Filters;\r\n","import React from \"react\";\r\nimport { AppContext } from \"./contexts/AppContext\";\r\n\r\nfunction Product(props) {\r\n  const {userResponse, setIsUserUpdated} = React.useContext(AppContext);\r\n  const {category, name, imgURL, cost, productId} = props;\r\n  const userPoints = userResponse.points;\r\n  \r\n  const attemptToBuy = (x, productId) => {\r\n    if (x===true) {\r\n      var request = require('request');\r\n      request({\r\n        method: 'POST',\r\n        url: 'https://coding-challenge-api.aerolab.co/redeem',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Accept': 'application/json',\r\n          'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1Zjk1ZDVjYjUyNDk2NzAwMTlhMTBlYjEiLCJpYXQiOjE2MDM2NTUxMTV9.W32_e_L9EGOptAWQ7VCA_PFIz4-z7D52nNipYXQ3-rI'\r\n        },\r\n        body: `{  \"productId\": \"${productId}\"}`\r\n      }, function (error, response, body) {\r\n        console.log('Status:', response.statusCode);\r\n        console.log('Headers:', JSON.stringify(response.headers));\r\n        console.log('Response:', body);\r\n      });\r\n      setIsUserUpdated(false);\r\n      \r\n    } else {\r\n\r\n    }\r\n  } \r\n  return (\r\n    <div className=\"col-md-6 col-lg-3 card-container\">\r\n        <div className=\"card\">\r\n            <img src={imgURL} className=\"card-img-top\" alt=\"...\"/>\r\n            <div className=\"card-body\">\r\n                <h5 className=\"card-title\">{name}</h5>\r\n                <p className=\"card-text\">{cost} <i className=\"fas fa-coins\"></i></p>\r\n                <p className=\"card-text\"><small className=\"text-muted\">{category}</small></p>\r\n                {userPoints >= cost ? <button onClick={() => attemptToBuy(true, productId)} className=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#successModal\">Buy</button> : <button onClick={() => attemptToBuy(false)} className=\"btn btn-danger\" data-toggle=\"modal\" data-target=\"#failureModal\">You lack {cost-userPoints} points</button>}\r\n            </div>\r\n        </div>\r\n\r\n        <div className=\"modal fade\" id=\"successModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n          <div className=\"modal-dialog\" role=\"document\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\" id=\"exampleModalLabel\">Redeemed Success</h5>\r\n                <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                  <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n              </div>\r\n              <div className=\"modal-body\">\r\n                You successfully redeemed the product\r\n              </div>\r\n              <div className=\"modal-footer\">\r\n                <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"modal fade\" id=\"failureModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n          <div className=\"modal-dialog\" role=\"document\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\" id=\"exampleModalLabel\">Redeemed Failure</h5>\r\n                <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                  <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n              </div>\r\n              <div className=\"modal-body\">\r\n                You can not redeem that product. Not enough points.\r\n              </div>\r\n              <div className=\"modal-footer\">\r\n                <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Product;","import React from \"react\";\r\nimport Product from \"./Product\"\r\nimport { AppContext } from \"./contexts/AppContext\";\r\n\r\nfunction Products(props) {\r\n    const { productsResponse, sortBy, priceFilter, categoryFilter, categoryList} =  React.useContext(AppContext);\r\n    const {pageNumber} = props;\r\n      let sortedProducts = [...productsResponse];\r\n      if (priceFilter !== \"0\"){\r\n        switch (priceFilter){\r\n          case '1':\r\n              sortedProducts = sortedProducts.filter(product => (product.cost > 0 && product.cost <= 150))\r\n            break;\r\n            case '2':\r\n              sortedProducts = sortedProducts.filter(product => (product.cost > 150 && product.cost <= 230))\r\n            break;\r\n            case '3':\r\n              sortedProducts = sortedProducts.filter(product => (product.cost > 230 && product.cost <= 600))\r\n            break;\r\n            case '4':\r\n              sortedProducts = sortedProducts.filter(product => (product.cost > 600))\r\n            break;\r\n            default:\r\n        }\r\n      }\r\n\r\n      if (categoryFilter !== \"0\"){\r\n        sortedProducts = sortedProducts.filter(product => (product.category === categoryList[categoryFilter-1]))\r\n      }\r\n      if (sortBy===1){\r\n        sortedProducts.sort((a, b) => (a.cost > b.cost) ? 1 : -1)\r\n      }\r\n      if (sortBy===2){\r\n        sortedProducts.sort((a, b) => (a.cost < b.cost) ? 1 : -1)\r\n      }\r\n\r\n      if (sortedProducts.length > 16){\r\n        if (pageNumber===\"1\"){\r\n          sortedProducts = sortedProducts.slice(0, 16)\r\n        } else {\r\n          sortedProducts = sortedProducts.slice(16, sortedProducts.length)\r\n        }\r\n      }\r\n      return (\r\n        <div className=\"container\">\r\n            <div className=\"row\">\r\n            {sortedProducts.length ? sortedProducts.map((each, i) => {\r\n              return <Product key={i} category={each.category} name={each.name} imgURL={each.img.url} cost={each.cost} productId={each._id}/>\r\n            }): <h2>No products matched your filters</h2>}\r\n            </div>\r\n        </div>\r\n      );\r\n}\r\nexport default Products;\r\n","import React from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport { AppContext } from \"./contexts/AppContext\";\r\n\r\nfunction Pagination(props) {\r\n    const {priceFilter, categoryFilter} =  React.useContext(AppContext);\r\n    const {pageNumber} = props;\r\n    return (\r\n        <div className=\"container pagination\">\r\n            <nav aria-label=\"Page navigation example\">\r\n            {priceFilter === \"0\" && categoryFilter ===\"0\" ? \r\n            pageNumber === '1' ?\r\n            <ul className=\"pagination\">\r\n                <Link to=\"/page/1\">\r\n                    <li className=\"page-item disabled\"><p className=\"page-link\"><i className=\"fas fa-arrow-left\"></i></p></li>\r\n                </Link>\r\n                <Link to=\"/page/2\">\r\n                    <li className=\"page-item\"><p className=\"page-link\" ><i className=\"fas fa-arrow-right\"></i></p></li>\r\n                </Link>\r\n            </ul>\r\n        : \r\n            <ul className=\"pagination\">\r\n                <Link to=\"/page/1\">\r\n                    <li className=\"page-item\"><p className=\"page-link\" ><i className=\"fas fa-arrow-left\"></i></p></li>\r\n                </Link>\r\n                <Link to=\"/page/2\">\r\n                    <li className=\"page-item disabled\"><p className=\"page-link\" ><i className=\"fas fa-arrow-right\"></i></p></li>\r\n                </Link>\r\n            </ul> : \"\"\r\n                \r\n                }               \r\n            </nav>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Pagination;","import React from 'react';\r\nimport Sorters from \"./Sorters\"\r\nimport Filters from \"./Filters\"\r\nimport Products from \"./Products\"\r\nimport Pagination from \"./Pagination\"\r\n\r\nfunction ProductsDisplay(props) {\r\n    const {pageNumber} = props;\r\n    return (\r\n        <div>\r\n            <Sorters />\r\n            <Filters />\r\n            <Pagination pageNumber={pageNumber}/>\r\n            <Products pageNumber={pageNumber}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ProductsDisplay;","import React, { useEffect } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport Header from \"./Header\"\nimport Footer from \"./Footer\"\nimport History from \"./History\"\nimport ProductsDisplay from \"./ProductsDisplay\"\nimport { AppContext } from \"./contexts/AppContext\";\n\n\n\nfunction App() {\n  const {productsResponse, setProductsResponse, setUserResponse, setIsLoading, isUserUpdated, setIsUserUpdated, setCategoryList} = React.useContext(AppContext);\n\n  useEffect(() => {\n    setIsLoading(true);\n      fetch(\n        \"https://coding-challenge-api.aerolab.co/products\",\n        {\n          method: \"GET\",\n          headers: new Headers({\n            ContentType: 'application/json',\n            Accept: 'application/json',\n            Authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1Zjk1ZDVjYjUyNDk2NzAwMTlhMTBlYjEiLCJpYXQiOjE2MDM2NTUxMTV9.W32_e_L9EGOptAWQ7VCA_PFIz4-z7D52nNipYXQ3-rI'\n          })\n        }\n      )\n        .then(res => res.json())\n        .then(response => {\n          setProductsResponse(response);\n          setIsLoading(false);\n        })\n        .catch(error => console.log(error));\n    }, []);\n    \n    useEffect(()=> {\n      var categories = [];\n      productsResponse.forEach(element => {\n          if (!categories.includes(element.category)) {\n              categories.push(element.category);\n          }\n      });\n      setCategoryList(categories);\n    }, [productsResponse])\n\n    useEffect(() => { \n      setIsLoading(true);\n      fetch(\n      \"https://coding-challenge-api.aerolab.co/user/me\",\n      {\n        method: \"GET\",\n        headers: new Headers({\n          ContentType: 'application/json',\n          Accept: 'application/json',\n          Authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1Zjk1ZDVjYjUyNDk2NzAwMTlhMTBlYjEiLCJpYXQiOjE2MDM2NTUxMTV9.W32_e_L9EGOptAWQ7VCA_PFIz4-z7D52nNipYXQ3-rI'\n        })\n      }\n    )\n      .then(res => res.json())\n      .then(response => {\n        setUserResponse(response);\n        setIsLoading(false);\n        setIsUserUpdated(true);\n      })\n      .catch(error => console.log(error));\n    }, [isUserUpdated]);\n\n  return (\n    <div className=\"App\">\n      <Header/>\n        <Switch>\n        <Route exact path=\"/\" render={() => \n          (\n            <ProductsDisplay pageNumber={'1'}/>\n          )}\n        />\n        <Route path=\"/page/:pageNumber\" render={({match}) => \n          (\n            <ProductsDisplay pageNumber={match.params.pageNumber}/>\n  )}\n        />\n        <Route exact path=\"/history\" render={() =>\n        (\n        <History />\n        )}\n        />\n      </Switch>   \n      <Footer/>   \n    </div>\n  );\n  }\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {BrowserRouter} from 'react-router-dom';\nimport AppProvider from \"./contexts/AppContext\"\n\nReactDOM.render(\n  \n  <BrowserRouter>\n    <React.StrictMode>\n    <AppProvider>\n      <App />\n    </AppProvider>\n    </React.StrictMode>\n  </BrowserRouter>\n  ,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}